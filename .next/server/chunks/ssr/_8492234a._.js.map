{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaif/Desktop/UWF-WebApp/UWF_Frontend_V2/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    if (!token) {\r\n      router.replace(\"/\"); // ðŸ‘ˆ Redirect to login if not authenticated\r\n    }\r\n  }, [router]);\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,eAAe,EAAE,QAAQ,EAAiC;IAChF,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QAEnC,IAAI,CAAC,OAAO;YACV,OAAO,OAAO,CAAC,MAAM,4CAA4C;QACnE;IACF,GAAG;QAAC;KAAO;IAEX,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kaif/Desktop/UWF-WebApp/UWF_Frontend_V2/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"@/lib/store\";\r\nimport Image from \"next/image\";\r\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\r\nimport { useEffect, useState } from \"react\";\r\nimport apiClient from \"@/utils/apiClient\";\r\nimport { BarChart2, DollarSign, Users, CheckCircle } from \"lucide-react\";\r\n\r\nexport default function Dashboard() {\r\n  const { user } = useSelector((state: RootState) => state.auth);\r\n  const [greeting, setGreeting] = useState(\"Hello\");\r\n\r\n  const [stats, setStats] = useState<{\r\n    studentsAided: { overall: number; currentYear: number };\r\n    amountDisbursed: { overall: number; currentYear: number };\r\n    requestsReceived: { overall: number; currentYear: number };\r\n    requestAccepted: { overall: number; currentYear: number };\r\n  } | null>(null);\r\n\r\n  useEffect(() => {\r\n    const hour = new Date().getHours();\r\n    if (hour >= 5 && hour < 12) setGreeting(\"Good Morning\");\r\n    else if (hour >= 12 && hour < 17) setGreeting(\"Good Afternoon\");\r\n    else if (hour >= 17 && hour < 21) setGreeting(\"Good Evening\");\r\n    else setGreeting(\"Good Night\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const res = await apiClient.get(\"/dashboard/stats\");\r\n        setStats({\r\n          studentsAided: res.data.studentsAided,\r\n          amountDisbursed: res.data.amountDisbursed,\r\n          requestsReceived: res.data.requestsReceived,\r\n          requestAccepted: res.data.requestAccepted,\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Dashboard stats fetch failed:\", error);\r\n      }\r\n    };\r\n\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const cards = [\r\n    {\r\n      title: \"Students Aided\",\r\n      value: stats?.studentsAided.currentYear ?? 0,\r\n      total: stats?.studentsAided.overall ?? 0,\r\n      icon: Users,\r\n      color: \"bg-blue-100 text-blue-600\",\r\n    },\r\n    {\r\n      title: \"Amount Disbursed\",\r\n      value: `â‚¹${stats?.amountDisbursed.currentYear ?? 0}`,\r\n      total: `â‚¹${stats?.amountDisbursed.overall ?? 0}`,\r\n      icon: DollarSign,\r\n      color: \"bg-green-100 text-green-600\",\r\n    },\r\n    {\r\n      title: \"Requests Received\",\r\n      value: stats?.requestsReceived.currentYear ?? 0,\r\n      total: stats?.requestsReceived.overall ?? 0,\r\n      icon: BarChart2,\r\n      color: \"bg-yellow-100 text-yellow-600\",\r\n    },\r\n    {\r\n      title: \"Requests Accepted\",\r\n      value: stats?.requestAccepted.currentYear ?? 0,\r\n      total: stats?.requestAccepted.overall ?? 0,\r\n      icon: CheckCircle,\r\n      color: \"bg-purple-100 text-purple-600\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen bg-[#f9fafb] px-10 py-8 rounded-2xl\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between border-b pb-6\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-800 tracking-tight\">\r\n              {greeting}, {user?.full_name?.split(\" \")[0]} ðŸ‘‹\r\n            </h1>\r\n            <p className=\"text-gray-500 mt-1 text-sm capitalize\">{user?.role}</p>\r\n          </div>\r\n\r\n          <div className=\"relative w-14 h-14\">\r\n            <Image\r\n              src={user?.profile_pic || \"/avatar.jpg\"}\r\n              alt=\"Profile\"\r\n              className=\"rounded-full object-cover border-2 border-gray-300 shadow-sm\"\r\n              fill\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-10\">\r\n          {cards.map((card) => (\r\n            <div\r\n              key={card.title}\r\n              className=\"bg-white rounded-2xl shadow-sm p-6 border hover:shadow-md transition-all duration-200\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className={`p-3 rounded-full ${card.color}`}>\r\n                  <card.icon size={24} />\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <p className=\"text-sm text-gray-500\">{card.title}</p>\r\n                  <h3 className=\"text-xl font-bold text-gray-800\">{card.value}</h3>\r\n                  <p className=\"text-xs text-gray-400 mt-1\">\r\n                    Total: <span className=\"font-medium\">{card.total}</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}