{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/Desktop/Kaif%20Ansari/UWF/uwf_frontend_v2/utils/apiClient.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\napiClient.interceptors.request.use((config) => {\r\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default apiClient;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,YAAY,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAClC,MAAM,QAAQ,6EAAgE;IAC9E,uCAAW;;IAEX;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/Desktop/Kaif%20Ansari/UWF/uwf_frontend_v2/features/auth/authSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport apiClient from \"@/utils/apiClient\";\r\n\r\ninterface User {\r\n  id: number;\r\n  username: string;\r\n  role: string;\r\n  full_name: string;\r\n  email: string;\r\n  profile_pic: string | null;\r\n}\r\n\r\ninterface AuthState {\r\n  token: string | null;\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  token: null,\r\n  user: null,\r\n  isAuthenticated: false,\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\n// âœ… Async thunk using apiClient\r\nexport const loginUser = createAsyncThunk(\r\n  \"auth/loginUser\",\r\n  async (\r\n    credentials: { username: string; password: string },\r\n    { rejectWithValue }\r\n  ) => {\r\n    try {\r\n      const response = await apiClient.post(\"/auth/login\", credentials);\r\n      return response.data;\r\n    } catch (err: any) {\r\n      return rejectWithValue(err.response?.data?.message || \"Login failed\");\r\n    }\r\n  }\r\n);\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    logout(state) {\r\n      state.token = null;\r\n      state.user = null;\r\n      state.isAuthenticated = false;\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"user\");\r\n    },\r\n    rehydrateAuth: (state, action) => {\r\n      state.token = action.payload.token;\r\n      state.user = action.payload.user; // restore user\r\n      state.isAuthenticated = !!action.payload.token;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(loginUser.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(loginUser.fulfilled, (state, action: PayloadAction<any>) => {\r\n        state.token = action.payload.token;\r\n        state.user = action.payload.user;\r\n        state.isAuthenticated = true;\r\n        state.loading = false;\r\n      \r\n        localStorage.setItem(\"token\", action.payload.token);\r\n        localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\r\n      })\r\n      .addCase(loginUser.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload as string;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { logout, rehydrateAuth } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAmBA,MAAM,eAA0B;IAC9B,OAAO;IACP,MAAM;IACN,iBAAiB;IACjB,SAAS;IACT,OAAO;AACT;AAGO,MAAM,YAAY,CAAA,GAAA,2LAAA,CAAA,mBAAgB,AAAD,EACtC,kBACA,OACE,aACA,EAAE,eAAe,EAAE;IAEnB,IAAI;QACF,MAAM,WAAW,MAAM,kHAAA,CAAA,UAAS,CAAC,IAAI,CAAC,eAAe;QACrD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,KAAU;QACjB,OAAO,gBAAgB,IAAI,QAAQ,EAAE,MAAM,WAAW;IACxD;AACF;AAGF,MAAM,YAAY,CAAA,GAAA,2LAAA,CAAA,cAAW,AAAD,EAAE;IAC5B,MAAM;IACN;IACA,UAAU;QACR,QAAO,KAAK;YACV,MAAM,KAAK,GAAG;YACd,MAAM,IAAI,GAAG;YACb,MAAM,eAAe,GAAG;YACxB,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC1B;QACA,eAAe,CAAC,OAAO;YACrB,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAClC,MAAM,IAAI,GAAG,OAAO,OAAO,CAAC,IAAI,EAAE,eAAe;YACjD,MAAM,eAAe,GAAG,CAAC,CAAC,OAAO,OAAO,CAAC,KAAK;QAChD;IACF;IACA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,UAAU,OAAO,EAAE,CAAC;YAC3B,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG;QAChB,GACC,OAAO,CAAC,UAAU,SAAS,EAAE,CAAC,OAAO;YACpC,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAClC,MAAM,IAAI,GAAG,OAAO,OAAO,CAAC,IAAI;YAChC,MAAM,eAAe,GAAG;YACxB,MAAM,OAAO,GAAG;YAEhB,aAAa,OAAO,CAAC,SAAS,OAAO,OAAO,CAAC,KAAK;YAClD,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,OAAO,OAAO,CAAC,IAAI;QACjE,GACC,OAAO,CAAC,UAAU,QAAQ,EAAE,CAAC,OAAO;YACnC,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO;QAC9B;IACJ;AACF;AAEO,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,GAAG,UAAU,OAAO;uCAC3C,UAAU,OAAO","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/Desktop/Kaif%20Ansari/UWF/uwf_frontend_v2/lib/store.ts"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authReducer from \"@/features/auth/authSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: authReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,QAAQ,CAAA,GAAA,2LAAA,CAAA,iBAAc,AAAD,EAAE;IAClC,SAAS;QACP,MAAM,6HAAA,CAAA,UAAW;IACnB;AACF","debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/Desktop/Kaif%20Ansari/UWF/uwf_frontend_v2/app/providers.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"@/lib/store\";\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  return <Provider store={store}>{children}</Provider>;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBAAO,8OAAC,yJAAA,CAAA,WAAQ;QAAC,OAAO,4GAAA,CAAA,QAAK;kBAAG;;;;;;AAClC","debugId":null}}]
}