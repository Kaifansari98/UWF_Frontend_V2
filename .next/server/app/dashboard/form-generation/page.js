(()=>{var e={};e.id=917,e.ids=[917],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19169:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},19205:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(60687),s=r(43210),n=r(68988),o=r(24934),i=r(37590),d=r(79349),l=r(92816),u=r(5336);let c=(0,r(62688).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var m=r(33872),p=r(19169),x=r(14952);function f(){let[e,t]=(0,s.useState)([]),[r,f]=(0,s.useState)([]),[h,b]=(0,s.useState)(""),[g,w]=(0,s.useState)(null),[y,v]=(0,s.useState)(""),[k,j]=(0,s.useState)(!0),N=t=>{b(t);let r=t.toLowerCase();f(e.filter(e=>e.formId.toLowerCase().includes(r)||`${e.firstName} ${e.fatherName} ${e.familyName}`.toLowerCase().includes(r)))},_=async()=>{if(g)try{let e=await d.A.post("/forms/generate/existing",{oldFormId:g.formId});v(e.data.form.form_link),i.Ay.success("Link generated for existing student")}catch(e){i.Ay.error("Failed to generate link")}},F=async()=>{await navigator.clipboard.writeText(y),i.Ay.success("Link copied to clipboard")};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-800",children:"Search students by Form ID or Name"}),(0,a.jsx)(n.p,{value:h,onChange:e=>N(e.target.value),placeholder:"Search by Form ID or Name",className:"mt-2"})]}),(0,a.jsx)("div",{className:"border rounded-xl overflow-y-auto h-72 w-full",children:k?(0,a.jsx)("div",{className:"text-center text-sm text-gray-500 py-6",children:"Loading students..."}):Array.isArray(r)&&r.length>0?r.map(e=>{let t=`${e.firstName} ${e.fatherName} ${e.familyName}`,r=e.firstName?.[0]?.toUpperCase()||"?";return(0,a.jsxs)("div",{className:`flex items-center justify-between border-b px-4 py-3 cursor-pointer ${g?.formId===e.formId?"bg-gray-100":"bg-white"}`,onClick:()=>w(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-semibold",children:r}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-800",children:t}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.formId})]})]}),(0,a.jsx)(x.A,{className:"text-gray-400"})]},e.formId)}):(0,a.jsx)("div",{className:"text-sm text-center text-gray-500 py-4",children:"No matching students found."})}),g&&(0,a.jsx)(o.$,{onClick:_,className:"w-full mt-2 bg-blue-500 text-white py-6 rounded-xl text-base font-semibold",children:"Generate Link"}),y&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 flex flex-row gap-2 items-center",children:[(0,a.jsx)(u.A,{size:14,color:"green"}),"Link generated for existing student"]}),(0,a.jsx)(n.p,{readOnly:!0,value:y,className:"cursor-default bg-gray-100"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(o.$,{onClick:F,className:"bg-black text-white",children:[(0,a.jsx)(c,{}),"Copy Link"]}),(0,a.jsxs)(o.$,{onClick:()=>window.open((0,l.dQ)(y),"_blank"),children:[(0,a.jsx)(m.A,{}),"Share via WhatsApp"]}),(0,a.jsxs)(o.$,{onClick:()=>window.open((0,l.Ti)(y),"_blank"),children:[(0,a.jsx)(p.A,{}),"Share via Email"]})]})]})]})}let h=["Jubail","Dammam","Maharashtra"];function b(){let[e,t]=(0,s.useState)("new"),[r,x]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),[w,y]=(0,s.useState)(""),v=async()=>{if(!b)return void i.oR.error("Please select a region");if(!r.trim())return void i.oR.error("Please enter the student's name");try{let e=await d.A.post("/forms/generate/new",{name:r,region:b});y(e.data.form.form_link),i.oR.success("Form link generated successfully!")}catch(e){i.oR.error("Failed to generate form")}},k=async()=>{await navigator.clipboard.writeText(w),i.oR.success("Link copied to clipboard")};return(0,a.jsx)("div",{className:"h-screen bg-[#f5f5f5] flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-2xl p-8 shadow-md space-y-6 mb-26",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:"Generate Forms"}),(0,a.jsxs)("div",{className:"flex w-full rounded-xl overflow-hidden border bg-gray-100 text-sm font-medium",children:[(0,a.jsx)("button",{onClick:()=>t("new"),className:`w-1/2 py-2 transition ${"new"===e?"bg-white text-black shadow":"text-gray-500"}`,children:"New Student"}),(0,a.jsx)("button",{onClick:()=>t("existing"),className:`w-1/2 py-2 transition ${"existing"===e?"bg-white text-black shadow":"text-gray-500"}`,children:"Existing Student"})]}),"new"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-800",children:"Enter Student's Name"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Enter the student name to whom you are generating this form."}),(0,a.jsx)(n.p,{placeholder:"Enter student name here...",className:"mt-3",value:r,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-800",children:"Select the coordinator  region"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Select the coordinator / member region."}),(0,a.jsx)("div",{className:"flex gap-1 mt-4",children:h.map(e=>(0,a.jsx)("button",{onClick:()=>g(e),className:`px-5 py-2 rounded-full border text-sm font-medium ${b===e?"bg-blue-500 text-white":"bg-white text-black border-gray-300"}`,children:e},e))})]}),w&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 flex flex-row gap-2 items-center",children:[(0,a.jsx)(u.A,{size:14,color:"green"}),"Congratulations, The Form link has been generated successfully."]}),(0,a.jsx)(n.p,{readOnly:!0,value:w,className:"cursor-default bg-gray-100"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(o.$,{onClick:k,className:"bg-blue-500 text-white",children:[(0,a.jsx)(c,{}),"Copy Link"]}),(0,a.jsxs)(o.$,{onClick:()=>{let e=(0,l.dQ)(w);window.open(e,"_blank")},className:"bg-green-500",children:[(0,a.jsx)(m.A,{}),"Share via WhatsApp"]}),(0,a.jsxs)(o.$,{onClick:()=>{let e=(0,l.Ti)(w);window.open(e,"_blank")},className:"bg-red-500",children:[(0,a.jsx)(p.A,{}),"Share via Email"]})]})]}),(0,a.jsx)(o.$,{onClick:v,className:"w-full mt-4 bg-blue-500 text-white py-6 rounded-xl text-base font-semibold",children:"Generate Link"})]}):(0,a.jsx)(f,{})]})})}},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33872:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},33873:e=>{"use strict";e.exports=require("path")},54914:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/var/www/unitedwelfarefoundation/UWF_Frontend_V2/app/dashboard/form-generation/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/var/www/unitedwelfarefoundation/UWF_Frontend_V2/app/dashboard/form-generation/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68988:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(60687);r(43210);var s=r(96241);function n({className:e,type:t,...r}){return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},69156:(e,t,r)=>{Promise.resolve().then(r.bind(r,54914))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},92816:(e,t,r)=>{"use strict";r.d(t,{Bi:()=>d,Ti:()=>s,Ts:()=>i,aA:()=>l,dQ:()=>a,f9:()=>n,oh:()=>o});let a=e=>{let t=encodeURIComponent(`Dear Sir/Madam,

Based on your request for UWF Student Aid for your ward, kindly click the link below to fill up the form and submit it on the UWF portal before July 31, 2025.

${e}

We look forward to supporting you to the best of our ability with your request.

Thanks & Regards,
United Welfare Foundation
Email: united_welfare_foundation@outlook.com`);return`https://api.whatsapp.com/send?text=${t}`},s=e=>{let t=encodeURIComponent("UWF Student Aid Form - Submit before July 31, 2025"),r=encodeURIComponent(`Dear Sir/Madam,

Based on your request for UWF Student Aid for your ward, kindly click on the link below to fill up the form and submit it on the UWF portal before July 31, 2025.

${e}

We look forward to supporting you to the best of our ability with your request.

Thanks & Regards,
United Welfare Foundation
Email: united_welfare_foundation@outlook.com`);return`https://mail.google.com/mail/?view=cm&fs=1&to=&su=${t}&body=${r}`},n=e=>{let t=encodeURIComponent(`Dear Sir/Madam,

UWF Student Aid Request for your ward has been rejected due to the following reasons:

Thanks & Regards,
United Welfare Foundation`);return`https://wa.me/91${e}?text=${t}`},o=e=>{let t=encodeURIComponent(`Dear Sir/Madam,
Regarding the UWF Student Aid Request submitted for your ward, we request your kind clarification on the following:

Kindly update as soon as possible to enable processing of your request.

Thanks & Regards,
United Welfare Foundation
Email: united_welfare_foundation@outlook.com`);return`https://wa.me/+91${e}?text=${t}`},i=e=>{let t=encodeURIComponent(`Dear Sir/Madam,

UWF Student Aid Request for your ward has been received by the UWF team and is under evaluation.

Thanks & Regards,
United Welfare Foundation`);return`https://wa.me/+91${e}?text=${t}`},d=e=>{let t=encodeURIComponent(`Dear Sir/Madam,

UWF Student Aid Request for your ward has been accepted and the amount has been disbursed by the UWF team as per below details:

Kindly provide confirmation upon receipt.

Thanks & Regards,
United Welfare Foundation
Email: united_welfare_foundation@outlook.com`);return`https://wa.me/+91${e}?text=${t}`},l=(e,t)=>{let r=encodeURIComponent(`Dear Sir/Madam,

Based on your request for UWF Student Aid for your ward, kindly click on the link below to fill up the form and submit it on the UWF portal before December 31.

${t}

We look forward to supporting you to the best of our ability with your request.

Thanks & Regards,
United Welfare Foundation
Email: united_welfare_foundation@outlook.com`);return`https://wa.me/+91${e}?text=${r}`}},94735:e=>{"use strict";e.exports=require("events")},98513:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>l});var a=r(65239),s=r(48088),n=r(88170),o=r.n(n),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let l={children:["",{children:["dashboard",{children:["form-generation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,54914)),"/var/www/unitedwelfarefoundation/UWF_Frontend_V2/app/dashboard/form-generation/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,83249)),"/var/www/unitedwelfarefoundation/UWF_Frontend_V2/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/var/www/unitedwelfarefoundation/UWF_Frontend_V2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/var/www/unitedwelfarefoundation/UWF_Frontend_V2/app/dashboard/form-generation/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/form-generation/page",pathname:"/dashboard/form-generation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},99012:(e,t,r)=>{Promise.resolve().then(r.bind(r,19205))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,812,375,83,589,900],()=>r(98513));module.exports=a})();